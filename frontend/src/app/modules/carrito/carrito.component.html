<app-barra-nav-comprador>   </app-barra-nav-comprador>
<app-background></app-background>

<div class="products-container"> 
    
    <div class="row mb-3">
        <div class="col text-center">
            <i class="titulo-icon bi bi-cart4"></i>
            <h3 class="titulo mt-3 mb-4">Tienes {{listaP.length}} artículos en tu carrito </h3>
        </div>
    </div>
    
    
    <!-- Mostramos los productos -->
    <div class="row" *ngFor="let producto of listaP; index as i">
        
        <!-- Tarjetita -->
        <div class="col-3 col-md-2 d-flex justify-content-end">
            <!-- COMENTAR src es atributo dinámico (binding atributte)  -->
            <img [attr.src]="producto.imagenp" alt="Imagen del producto" width="100" height="100">
        </div>
        <div class="col-3 col-md-4">
            <p class="text-bolder">{{producto.nombre}}</p>
            <p class="text-secondary">ID: {{producto.idP}} </p>
        </div>
        <div class="col-3">
            <div class="btn-group rounded-pill" role="group" aria-label="Basic example">
                <button type="button" class="btn btn-dark btn-masmenos" (click) = "disminuirCP(i)">-</button>
                <span class="cantidad-p ">{{producto.cant}} </span>
                <button type="button" class="btn btn-dark btn-masmenos" (click) = "aumentarCP(i)">+</button>
              </div>
        </div>
        <div class="col-3 precio-borrar">
            <p class="text-bolder"> $ {{producto.precioP}} </p>
            <button type="button" class="btn btn-link link-secondary" (click) = "eliminarP(i)" >Eliminar</button>
        </div>
        <hr style="background-color: rgb(83, 83, 83); margin-top: 1rem;">
    </div>


    <div class="row justify-content-end text-bolder">        
        <div class="col-3 text-end">Total</div>
        <div class="col-3 text-center">${{total}} </div>
    </div>

    <div class="row justify-content-end mt-4" >
        <div class="col-6">
            <!-- Pasamos el id del Carrito a la vista de dirección-->
            <a type="button" routerLink="/direccion" class="btn btn-dark rounded-pill disabled" 
            tabindex="-1" [class.disabled]="listaP.length==0">Continuar compra</a>
        </div>
    </div>

</div>