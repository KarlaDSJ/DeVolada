<app-background></app-background>

<div class="w-75 mx-auto p-3">
    <div class="row justify-content-between">
        <!-- Calificaciones de usuarios -->
        <!-- Inicio de Columna izquierda-->
        <div class="col-5">
            <h5>Calificaciones de usuarios</h5> <br>
            <!-- Calificaciones globales-->
            <div class="container">
                <div class="row justify-content-start">
                    <!-- Promedio entre 0 estrellas y 5 estrellas -->
                    <div class="col">
                        <p align="left" class="fs-1 mb-1">{{promedio}} de 5 estrellas
                        </p>
                    </div>
                    <!-- Promedio del # total de calificaciones -->
                    <div class="col-12 mb-3 text-left">
                        <small>Promedio entre {{total}} calificaciones</small>
                    </div>
                </div> <br>
            </div> 

            <!-- Escribir reseña sobre este producto -->
            <div class="row justify-content-start mt-4">
                <div class="col-12">
                    <p align="left" class="fs-5 mb-3">Escribir reseña sobre este producto </p>
                </div>
                <small class="mb-3">Comparte tu reseña con otros usuarios</small>
                <!--Botón para crear una reseña-->
                <div class="col-11">
                    <div class="d-grid">
                        <a routerLink="/crear-resena" routerLinkActive="active"
                        class="btn btn-dark  btn-ms rounded-pill">
                        Escribir Reseña
                        </a>
                    </div> 
                </div>
            </div> <br>            
        </div> <br>
        <!-- Fin Columna izquierda -->

        <!-- Inicio Columna derecha-->
        <!--Comentarios-->
        <div class="col-6">
            <h5> Comentarios </h5> <br>
            <div class="list-group">
                <div *ngFor="let resena of resenias">
                    <!-- Usuario-->
                    <div class="d-flex w-100 justify-content-between">
                        <!-- Nombre del usuario -->
                        <h6 class="mb-2">{{resena.nombre}}</h6>
                        <!-- Calificación del usuario -->
                            <div *ngIf="1==resena.calificacion">
                                <span class="text-warning fs-4 bd-highlight">★<span class="text-muted fs-4 bd-highlight">★★★★</span></span>
                            </div>
                            <div *ngIf="2==resena.calificacion">
                                <span class="text-warning fs-4 bd-highlight">★★<span class="text-muted fs-4 bd-highlight">★★★</span></span>
                            </div>
                            <div *ngIf="3==resena.calificacion">
                                <span class="text-warning fs-4 bd-highlight">★★★<span class="text-muted fs-4 bd-highlight">★★</span></span>
                            </div>
                            <div *ngIf="4==resena.calificacion">
                                <span class="text-warning fs-4 bd-highlight">★★★★<span class="text-muted fs-4 bd-highlight">★</span></span>
                            </div>
                            <div *ngIf="5==resena.calificacion">
                                <span class="text-warning fs-4 bd-highlight">★★★★★<span class="text-muted fs-4 bd-highlight"></span></span>
                            </div>
                    </div>
                    <!-- Comentario del usuario -->
                    <small class="mb-5">{{resena.opinion}}</small> <br><br><br>
                </div> 
                <!-- Botón para ver todas las reseñas del producto -->
                <div class="col-11">
                    <div class="d-grid">
                        <a tabindex="-1" routerLink="/ver-resenas" routerLinkActive="active"
                        class="btn btn-dark btn-ms rounded-pill disabled" [class.disabled]="resenias.length==0">
                        Ver todas reseñas
                        </a>
                    </div> 
                </div> 
            </div>
        </div>
</div>
